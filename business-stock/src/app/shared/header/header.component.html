<header class="topbar">
    <nav class="navbar top-navbar navbar-expand-md navbar-light">
        <div class="navbar-header">
            <a class="navbar-brand" href="index.html">
                <!-- Logo icon --><b>
                    <!--You can put here icon as well // <i class="wi wi-sunset"></i> //-->
                    <!-- Dark Logo icon -->
                    <img src="./assets/images/logo-icon.png" alt="homepage" class="dark-logo" />
                    <!-- Light Logo icon -->
                    <img src="./assets/images/logo-light-icon.png" alt="homepage" class="light-logo" />
                </b>
                <!--End Logo icon -->
                <!-- Logo text --><span>
                    <!-- dark Logo text -->
                    <img src="./assets/images/logo-text.png" alt="homepage" class="dark-logo" />
                    <!-- Light Logo text -->    
                    <img src="./assets/images/logo-light-text.png" class="light-logo" alt="homepage" /></span> </a>
        </div>
        <div class="navbar-collapse">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item"> <a class="nav-link nav-toggler hidden-md-up waves-effect waves-dark" href="javascript:void(0)"><i class="ti-menu"></i></a> </li>
                <li class="nav-item"> <a class="nav-link sidebartoggler hidden-sm-down waves-effect waves-dark" href="javascript:void(0)"><i class="ti-menu"></i></a> </li>
                <li class="nav-item hidden-sm-down"></li>
            </ul>
            <ul class="navbar-nav my-lg-0">
                <li class="nav-item dropdown">
                    <a 
                        class="nav-link dropdown-toggle waves-effect waves-dark" 
                        href="" 
                        data-toggle="dropdown" 
                        aria-haspopup="true" 
                        aria-expanded="false"
                        > 
                        <i class="fa fa-shopping-cart"> </i>
                        <div 
                            class="notify"
                            *ngIf="haveShoppingCards"
                            > 
                            <span class="heartbit"></span> 
                            <span class="point"></span> 
                        </div>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right mailbox animated fadeIn fast">
                        <ul *ngFor="let shoppingCard of shoppingCards">
                            <li>
                                <div class="drop-title"><h3 class="text-themecolor">{{shoppingCard.shoppingCardNumber}}</h3></div>
                            </li>
                            <li>
                                <div class="message-center">
                                    <a *ngFor="let product of shoppingCard.products.slice(0, 4) ">
                                            <img 
                                                [src]="product.url"
                                                class="img-product"
                                            >
                                        <div class="mail-contnet">
                                            <h5>{{product.detail}}</h5> 
                                            <span class="mail-contnet">Cantidad: {{product.quantity}}</span> 
                                        </div>
                                    </a>
                                </div>
                            </li>
                            <li>
                                <a class="nav-link text-center" href="javascript:void(0);" data-toggle="modal" data-target=".bs-example-modal-lg"> 
                                    <strong>Ver todos</strong> 
                                </a>
                            </li>
                        </ul>

                        <div 
                            class="mail-contnet text-center"
                            *ngIf="!haveShoppingCards"
                            >No existen registros
                        </div>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle waves-effect waves-dark" href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="./assets/images/users/1.jpg" alt="user" class="profile-pic" /></a>
                    <div class="dropdown-menu dropdown-menu-right animated fadeIn fast">
                        <ul class="dropdown-user">
                            <li>
                                <div class="dw-user-box">
                                    <div class="u-text">
                                        <h4>{{ user.firstName + user.lastName }}</h4>
                                        <p class="text-muted">{{user.email}}</p><a class="btn btn-rounded btn-danger btn-sm">{{ typeAdmin }}</a>
                                    </div>
                                </div>
                            </li>
                            <li><a (click)="logout()"><i class="fa fa-power-off"></i> Logout</a></li>
                        </ul>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
</header>

<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myLargeModalLabel">Carrito de compra</h4>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
            </div>
            <div class="modal-body">
                <div class="table-responsive">
                    <table class="tablesaw table-bordered table-hover table tablesaw-swipe tablesaw-sortable" data-tablesaw-mode="swipe" data-tablesaw-sortable="" data-tablesaw-sortable-switch="" data-tablesaw-minimap="" data-tablesaw-mode-switch="" id="table-2133" style="">
                        <thead>
                            <tr>
                                <th>Imagen</th>
                                <th>Descripcion</th>
                                <th>Cantidad</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let product of products">
                                <td>
                                    <img 
                                        [src]="product.url"
                                        class="img-product"
                                    >
                                </td>
                                <td>{{product.detail}}</td>
                                <td>{{product.quantity}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger waves-effect text-left"  (click)="generatePurchaseRequest();">Generar Solicitud Compra</button>
            </div>
        </div>
    </div>
</div>